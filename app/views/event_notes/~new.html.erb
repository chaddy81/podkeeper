<% provide :title, 'Send Reminders' %>

<section class="container content">
    <ul class="nav top-level-tabs">
        <li><%= link_to 'Discussions', pod_path(current_pod) %></li>
        <li class="selected"><%= link_to 'Events', events_path %></li>
        <li><%= link_to 'Lists', lists_path %></li>
        <li><%= link_to 'Files', uploaded_files_path %></li>
    </ul>
    <div class="relative-wrapper">
        <div id="its-here">New</div>
    </div>

    <div class="sub-page event-page event-reminders">
        <div class="content">
            <%= render 'events/details', event: @event %>

            <%= simple_form_for @event_note, defaults: { wrapper: :none }, html: { class: 'send-reminders' } do |f| %>
                <p>You can send additional event reminders or updates to everyone or to select members based on their current RSVP response.</p>
                <%= render 'shared/error_messages', f: f %>
                <p class="note">* Required field</p>

                <%= f.input :note, as: :text, label: 'Reminder Message', wrapper_html: { style: 'margin-bottom: 20px;' }, input_html: { value: f.object.note }, error_html: { style: 'display:none;' } %>

                <% if @event.require_rsvp? %>
                    <p class="pull-left">Select members who should receive this reminder message. *</p>
                    <%= f.input :all_pod_members, label: 'All Pod members', as: :boolean, wrapper: :checkbox %>
                    <%= f.input :rsvp_yes, label: 'All Yes responses', as: :boolean, wrapper: :checkbox %>
                    <%= f.input :rsvp_no, label: 'All No responses', as: :boolean, wrapper: :checkbox %>
                    <%= f.input :rsvp_maybe, label: 'All Maybe responses', as: :boolean, wrapper: :checkbox %>
                    <%= f.input :havent_responded, label: 'All who haven\'t responded', as: :boolean, wrapper: :checkbox %>
                    <%= f.input :all_except_no_responses, label: 'Everyone but the No responses', as: :boolean, wrapper: :checkbox %>
                <% else %>
                    <%= f.input :all_pod_members, as: :hidden, input_html: { value: '1' } %>
                <% end %>
                <%= f.input :event_id, as: :hidden, input_html: { value: @event.id } %>
                <div class="clearfix"></div>
                <%= f.submit 'Send', class: 'submit', disable_with: 'Sending...' %>
                <%= link_to 'Cancel', event_path(@event), class: 'back' %>
            <% end %>
        </div><!-- /.content -->
    </div><!-- /.sub-page -->

</section><!-- /.container -->